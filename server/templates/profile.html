{% extends "base.html" %}{% block content %}<div class="row justify-content-center"><div class="col-md-9 col-lg-8"><div class="card card-custom mb-5"><div class="profile-header"><div class="profile-avatar-container"><img src="{{ url_for('static', filename='avatars/' + current_user.avatar) }}" class="profile-avatar shadow" onerror="this.src='https://ui-avatars.com/api/?name={{ current_user.name }}&background=random&size=150'"><label for="avatarUpload" class="avatar-edit-btn" title="æ›´æ›é ­åƒ"> <i class="fas fa-camera"></i> </label> <form id="avatarForm" action="{{ url_for('upload_avatar') }}" method="POST" enctype="multipart/form-data" style="display: none;"> <input type="file" id="avatarUpload" name="avatar" accept="image/*" onchange="document.getElementById('avatarForm').submit();"> </form> </div> </div> <div class="card-body pt-5 px-5 pb-5"> <div class="text-center mt-5 mb-5"> <h2 class="fw-bold">{{ current_user.name }}</h2> {% if current_user.role in ['admin', 'super_admin'] %} <span class="badge bg-warning text-dark mb-2">ADMIN ç®¡ç†å“¡</span> {% endif %} <p class="text-muted">{{ current_user.email }}</p> </div> <hr class="my-5"> <h4 class="fw-bold mb-4"><i class="fas fa-user-edit me-2 text-primary"></i>åŸºæœ¬è³‡æ–™</h4> <form method="POST" action="{{ url_for('update_profile') }}"> <div class="row g-4"> <div class="col-md-6"> <label class="form-label fw-bold text-muted">æš±ç¨±</label> <input type="text" class="form-control" name="name" value="{{ current_user.name }}"> </div> <div class="col-md-6"> <label class="form-label fw-bold text-muted">åœ‹å®¶ / åœ°å€ (15å¤§åœ‹)</label> <select class="form-select" name="country"> <option value="å°ç£" {% if current_user.country == 'å°ç£' %}selected{% endif %}>ğŸ‡¹ğŸ‡¼ å°ç£ (Taiwan)</option> <option value="ç¾åœ‹" {% if current_user.country == 'ç¾åœ‹' %}selected{% endif %}>ğŸ‡ºğŸ‡¸ ç¾åœ‹ (USA)</option> <option value="ä¸­åœ‹" {% if current_user.country == 'ä¸­åœ‹' %}selected{% endif %}>ğŸ‡¨ğŸ‡³ ä¸­åœ‹ (China)</option> <option value="æ—¥æœ¬" {% if current_user.country == 'æ—¥æœ¬' %}selected{% endif %}>ğŸ‡¯ğŸ‡µ æ—¥æœ¬ (Japan)</option> <option value="å¾·åœ‹" {% if current_user.country == 'å¾·åœ‹' %}selected{% endif %}>ğŸ‡©ğŸ‡ª å¾·åœ‹ (Germany)</option> <option value="å°åº¦" {% if current_user.country == 'å°åº¦' %}selected{% endif %}>ğŸ‡®ğŸ‡³ å°åº¦ (India)</option> <option value="è‹±åœ‹" {% if current_user.country == 'è‹±åœ‹' %}selected{% endif %}>ğŸ‡¬ğŸ‡§ è‹±åœ‹ (UK)</option> <option value="æ³•åœ‹" {% if current_user.country == 'æ³•åœ‹' %}selected{% endif %}>ğŸ‡«ğŸ‡· æ³•åœ‹ (France)</option> <option value="ç¾©å¤§åˆ©" {% if current_user.country == 'ç¾©å¤§åˆ©' %}selected{% endif %}>ğŸ‡®ğŸ‡¹ ç¾©å¤§åˆ© (Italy)</option> <option value="å·´è¥¿" {% if current_user.country == 'å·´è¥¿' %}selected{% endif %}>ğŸ‡§ğŸ‡· å·´è¥¿ (Brazil)</option> <option value="åŠ æ‹¿å¤§" {% if current_user.country == 'åŠ æ‹¿å¤§' %}selected{% endif %}>ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§ (Canada)</option> <option value="éŸ“åœ‹" {% if current_user.country == 'éŸ“åœ‹' %}selected{% endif %}>ğŸ‡°ğŸ‡· éŸ“åœ‹ (Korea)</option> <option value="ä¿„ç¾…æ–¯" {% if current_user.country == 'ä¿„ç¾…æ–¯' %}selected{% endif %}>ğŸ‡·ğŸ‡º ä¿„ç¾…æ–¯ (Russia)</option> <option value="æ¾³æ´²" {% if current_user.country == 'æ¾³æ´²' %}selected{% endif %}>ğŸ‡¦ğŸ‡º æ¾³æ´² (Australia)</option> <option value="è¥¿ç­ç‰™" {% if current_user.country == 'è¥¿ç­ç‰™' %}selected{% endif %}>ğŸ‡ªğŸ‡¸ è¥¿ç­ç‰™ (Spain)</option> <option value="å°å°¼" {% if current_user.country == 'å°å°¼' %}selected{% endif %}>ğŸ‡®ğŸ‡© å°å°¼ (Indonesia)</option> <option value="å…¶ä»–" {% if current_user.country == 'å…¶ä»–' %}selected{% endif %}>ğŸ³ï¸ å…¶ä»– (Other)</option> </select> </div> <div class="col-md-6"> <label class="form-label fw-bold text-muted">åå¥½èªè¨€</label> <select class="form-select" name="language"> <option value="zh-TW" {% if current_user.language == 'zh-TW' %}selected{% endif %}>ç¹é«”ä¸­æ–‡</option> <option value="en-US" {% if current_user.language == 'en-US' %}selected{% endif %}>English</option> </select> </div> <div class="col-md-6"> <label class="form-label fw-bold text-muted">è¨»å†Šæ—¥æœŸ</label> <input type="text" class="form-control" value="{{ current_user.created_at.strftime('%Y/%m/%d') }}" disabled> </div> </div> <div class="text-end mt-4"> <button type="submit" class="btn btn-primary px-5 rounded-pill shadow-sm">å„²å­˜è®Šæ›´</button> </div> </form> <hr class="my-5"> <h4 class="fw-bold mb-4"><i class="fas fa-shield-alt me-2 text-danger"></i>å¸³è™Ÿå®‰å…¨</h4> <div class="accordion" id="securityAccordion"> <div class="accordion-item border rounded mb-3 overflow-hidden"> <h2 class="accordion-header"> <button class="accordion-button collapsed bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePass"> <span class="fw-bold"><i class="fas fa-key me-2"></i>è®Šæ›´å¯†ç¢¼</span> </button> </h2> <div id="collapsePass" class="accordion-collapse collapse" data-bs-parent="#securityAccordion"> <div class="accordion-body"> <form method="POST" action="{{ url_for('change_password') }}"> <div class="mb-3"><div class="input-group"><input type="password" class="form-control" name="current_password" id="curPass" placeholder="ç›®å‰å¯†ç¢¼" required oninput="restrictInput(this)"><span class="input-group-text bg-white password-toggle-btn" onclick="togglePassword('curPass', 'eyeCurPass')"><i class="fas fa-eye" id="eyeCurPass"></i></span></div></div> <div class="mb-3"><div class="input-group"><input type="password" class="form-control" name="new_password" id="newProfPass" placeholder="æ–°å¯†ç¢¼ (é™è‹±æ•¸)" required oninput="restrictInput(this)"><span class="input-group-text bg-white password-toggle-btn" onclick="togglePassword('newProfPass', 'eyeNewProfPass')"><i class="fas fa-eye" id="eyeNewProfPass"></i></span></div></div> <button type="submit" class="btn btn-danger w-100">ç¢ºèªè®Šæ›´</button> </form> </div> </div> </div> <div class="accordion-item border rounded overflow-hidden"> <h2 class="accordion-header"> <button class="accordion-button collapsed bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEmail"> <span class="fw-bold"><i class="fas fa-envelope me-2"></i>è®Šæ›´ä¿¡ç®±</span> </button> </h2> <div id="collapseEmail" class="accordion-collapse collapse" data-bs-parent="#securityAccordion"> <div class="accordion-body"> <form method="POST" action="{{ url_for('change_email') }}"> <div class="mb-3"><input type="email" class="form-control" name="new_email" placeholder="æ–°é›»å­ä¿¡ç®± (é™è‹±æ•¸)" required oninput="restrictInput(this)"></div> <div class="mb-3"><input type="password" class="form-control" name="password_verify" placeholder="è¼¸å…¥å¯†ç¢¼é©—è­‰ (é™è‹±æ•¸)" required oninput="restrictInput(this)"></div> <button type="submit" class="btn btn-warning w-100">è®Šæ›´ä¿¡ç®±</button> </form> </div> </div> </div> </div> </div> </div> </div> </div> {% endblock %}